(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t){e.exports="data:image/png;base64,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"},20:function(e,t,n){e.exports=n.p+"static/media/powered-by-foursquare-grey.cdd335d8.png"},22:function(e,t,n){e.exports=n(52)},31:function(e,t,n){},32:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r),c=(n(31),n(2)),s=n(3),l=n(6),u=n(4),p=n(11),f=n(5),m=(n(32),n(1)),A=n.n(m),d=n(12),h=n.n(d),v=n(20),g=n.n(v),k=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"elements-list-container"},o.a.createElement("button",{className:"nav-button",tabIndex:"0",onClick:function(){A()(".elements-list-container").toggleClass("elements-list-opened"),A()(".nav-button").toggleClass("elements-list-opened")}},o.a.createElement("i",{className:"fas fa-bars"})),o.a.createElement("div",{className:"elements-list"},o.a.createElement("input",{className:"filter-input",type:"text",placeholder:"Filter places",value:this.props.query,onChange:function(t){return e.props.updateQuery(t.target.value)},onFocusCapture:function(e){A()(".elements-list-container").hasClass("elements-list-opened")||A()(".elements-list-container").toggleClass("elements-list-opened"),A()(".nav-button").hasClass("elements-list-opened")||A()(".nav-button").toggleClass("elements-list-opened")}}),o.a.createElement("ul",{className:"places-list","aria-label":"places"},this.props.places.length&&this.props.places.sort(h()("name")).map(function(t){return o.a.createElement("li",{key:t.name},o.a.createElement("button",{onClick:function(){A()(".elements-list-container").toggleClass("elements-list-opened"),A()(".nav-button").toggleClass("elements-list-opened"),e.props.setActiveMarkerFromName(t.name)}},t.title))}),o.a.createElement("li",null,o.a.createElement("div",{className:"contributions"},"Icons made by ",o.a.createElement("a",{href:"http://www.freepik.com",title:"Freepik"},"Freepik")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")," is licensed by ",o.a.createElement("a",{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank",rel:"noopener noreferrer"},"CC 3.0 BY"))),o.a.createElement("li",null,o.a.createElement("div",{className:"contributions"},o.a.createElement("a",{href:"https://foursquare.com/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"foursquare-attribution",src:g.a,alt:"Powered by Foursquare attribution"})))))))}}]),t}(a.Component),M=n(21),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onMapClick=function(){n.props.onMapClick()},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{role:"application"},o.a.createElement(M.Map,{google:window.google,style:{width:"100%",height:"calc(100vh - 88px)"},initialCenter:{lat:36.1314692,lng:-115.1660729},zoom:12,onReady:function(t,n){e.props.fetchPlaces(t,n)},onClick:this.onMapClick}))}}]),t}(a.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("main",null,o.a.createElement("header",null,o.a.createElement("h1",{className:"header"},"Neighborhood Map")),o.a.createElement(k,{places:this.props.places,setActiveMarkerFromName:this.props.setActiveMarkerFromName,query:this.props.query,updateQuery:this.props.updateQuery}),o.a.createElement("div",{id:"map"},o.a.createElement(w,{fetchPlaces:this.props.fetchPlaces,onMapClick:this.props.onMapClick})),o.a.createElement("footer",null,o.a.createElement("p",{className:"footer"},"Made with ",o.a.createElement("b",{className:"far fa-heart"})," by Mateusz Margos")))}}]),t}(a.Component),N=n(8),y=n.n(N),O=n(17),j=n.n(O),F=n(18),C=n.n(F),E=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={places:[],activeMarker:{},query:"",infoWindow:null,map:{},google:{}},n.onMapClick=function(){n.state.places.map(function(e){return e.setIcon(y.a)}),null!==n.state.infoWindow&&n.state.infoWindow.close(),A()(".elements-list-container").removeClass("elements-list-opened"),A()(".nav-button").removeClass("elements-list-opened"),n.setState({activeMarker:null})},n.setActiveMarkerFromLatLng=function(e){n.state.places.map(function(e){return e.setIcon(y.a)});var t=n.state.places.filter(function(t){return t.position.lat===e.lat})[0];t.setIcon(j.a),n.setState({activeMarker:t},n.openInfoWindow)},n.setActiveMarkerFromName=function(e){n.state.places.map(function(e){return e.setIcon(y.a)});var t=n.state.places.filter(function(t){return t.name===e})[0];t.setIcon(j.a);var a=n.state.places.filter(function(t){return t.name!==e}).concat(t);n.setState({places:a,activeMarker:t},n.openInfoWindow)},n.createMarkersForPlaces=function(e,t,n){for(var a=this,o=[],r=0;r<n.length;r++){var i=n[r],c=new e.maps.Marker({map:t,title:i.name,name:i.name,position:i.geometry.location,icon:y.a});c.addListener("click",function(e){return a.setActiveMarkerFromLatLng(e.latLng)}),o.push(c)}this.setState({places:o,google:e,map:t})},n.fetchPlaces=function(e,t){var a=e.google,o=new a.maps.places.PlacesService(t),r=Object(p.a)(n);o.textSearch({type:"casino",location:t.center},function(e,n){e.map(function(e){return e.icon=y.a}),n===a.maps.places.PlacesServiceStatus.OK&&r.createMarkersForPlaces(a,t,e)})},n.updateQuery=function(e){n.setState({query:e},n.updateMarkers)},n.updateMarkers=function(){var e,t,a;if(n.state.query){var o=RegExp(C()(n.state.query),"i");(e=n.state.places.filter(function(e){return o.test(e.title)})).map(function(e){return e.setMap(n.state.map)}),(t=n.state.places.filter(function(e){return!o.test(e.title)})).map(function(e){return e.setMap(null)}),a=e.concat(t)}else(a=n.state.places).map(function(e){return e.setMap(n.state.map)});a.sort(h()("name")),n.setState({places:a})},n.createInfoWindow=function(){var e=new n.state.google.maps.InfoWindow;e.setOptions({maxWidth:250}),n.setState({infoWindow:e},function(){n.openInfoWindow()})},n.openInfoWindow=function(){null!==n.state.infoWindow?(n.state.infoWindow.close(),n.getActivePlaceAdditionalInformation()):n.createInfoWindow()},n.getActivePlaceAdditionalInformation=function(){var e,t="Couldn't get additional information regarding this venue.",a="",o=Object(p.a)(n);fetch("https://api.foursquare.com/v2/venues/search?ll=".concat(n.state.activeMarker.position.lat(),",").concat(n.state.activeMarker.position.lng(),"&intent=match&name=").concat(n.state.activeMarker.name,"&client_id=").concat("5QHRGKMWQFHFXKIN5PJ0RZLGZG3WBXU3CBRAADC3PMN1VGHZ","&client_secret=").concat("4WG51XWB0RESPAUDETZOURFHV1EDQAFVNSR01F4WT3HOFLKA","&v=20180731")).then(function(e){return e.json()}).then(function(n){if(200===n.meta.code&&n.response.venues.length>0)return e=n.response.venues[0].id,a="http://foursquare.com/v/"+e,fetch("https://api.foursquare.com/v2/venues/".concat(e,"/tips?sort=popular&client_id=").concat("5QHRGKMWQFHFXKIN5PJ0RZLGZG3WBXU3CBRAADC3PMN1VGHZ","&client_secret=").concat("4WG51XWB0RESPAUDETZOURFHV1EDQAFVNSR01F4WT3HOFLKA","&v=20180731"));o.fillActivePlaceInfoWindow(o.state.activeMarker.name,t,a)}).then(function(e){return e.json()}).then(function(e){200===e.meta.code&&e.response.tips.count>0&&(t="<b>Most popular review:</b> "+e.response.tips.items[0].text),o.fillActivePlaceInfoWindow(o.state.activeMarker.name,t,a)}).catch(function(e){alert("failed"+e)})},n.fillActivePlaceInfoWindow=function(e,t,a){var o=document.createElement("div");o.className="info-window";var r=document.createElement("h4");r.innerHTML=e,o.append(r);var i=document.createElement("p");if(i.innerHTML=t,o.append(i),""!==a){var c=document.createElement("a");c.innerHTML="Venue page on Foursquare",c.href=a,c.setAttribute("aria-label","View details of the ".concat(e)),c.target="_blank",o.append(c)}n.state.infoWindow.setContent(o),n.state.infoWindow.open(n.state.map,n.state.activeMarker)},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;if(this.state.query){var t=RegExp(C()(this.state.query),"i");e=this.state.places.filter(function(e){return t.test(e.title)})}else e=this.state.places;return e.sort(h()("name")),o.a.createElement(b,{places:e,fetchPlaces:this.fetchPlaces,onMapClick:this.onMapClick,setActiveMarkerFromName:this.setActiveMarkerFromName,query:this.state.query,updateQuery:this.updateQuery})}}]),t}(a.Component),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}A()(document).ready(i.a.render(o.a.createElement(E,null),document.getElementById("root"))),function(){if("serviceWorker"in navigator){if(new URL("/project-neighborhood-map",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/project-neighborhood-map","/service-worker.js");T?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):S(e)})}}()},8:function(e,t){e.exports="data:image/png;base64,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"}},[[22,1,2]]]);
//# sourceMappingURL=main.ba646f2c.chunk.js.map